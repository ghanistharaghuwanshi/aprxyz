!function(){function o(o,t){var n;for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}this.Invoke=function(){var n=io,i=window,s=i.location,r={u:"",id:"",url:"http://localhost:3000",v:"",s:"",t:s.href,p:!1};arguments[0]&&"object"==typeof arguments[0]&&(this.options=o(r,arguments[0]));var e=this;t=this.options.s=n.connect(this.options.url),this.g(),this.options.s.on("connect",function(){e.options.s.emit("adduser",e.options.u,e.options.v)}),console.log(e.options.s),e.options.s.on("fire",function(o){1==o&&(e.options.p=!1,window.location.href="http://www.google.com")}),this.track()},Invoke.prototype.start=function(){this.options.p=!0},Invoke.prototype.halt=function(){this.options.p=!1},Invoke.prototype.g=function(){for(var o="",t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;6>i;i++)o+=n.charAt(Math.floor(Math.random()*n.length));for(var i=0;6>i;i++)t+=n.charAt(Math.floor(Math.random()*n.length));this.options.u=this.options.u+"-"+o+"-"+this.options.id+"-"+t},Invoke.prototype.track=function(){var o=this;setInterval(function(){var t={client_id:o.options.id,vendor_id:o.options.v,video_url:o.options.t,start_time:Date.now(),view_time:1,session_id:o.options.u};1==o.options.p&&o.options.s.emit("__track",t)},1e3)}}();